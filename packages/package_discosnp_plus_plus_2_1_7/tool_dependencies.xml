<?xml version="1.0"?>
<tool_dependency>
    <package name="discoSnp_plus_plus" version="2.1.7">
        <install version="1.0">
            <actions>
                <action type="download_by_url">http://gatb-tools.gforge.inria.fr/versions/src/DiscoSNP++-2.1.7-Source.tar.gz</action>
                <action type="shell_command">/bin/bash compile_discoSnp++.sh</action>

	<!-- move directories into $INSTALL_DIR -->
        <action type="move_directory_files">
    		    <source_directory>build</source_directory>
                    <destination_directory>$INSTALL_DIR/build</destination_directory>
	</action>
	<action type="move_directory_files">
		    <source_directory>tools</source_directory>
		    <destination_directory>$INSTALL_DIR/tools</destination_directory>
	</action>

	<!-- move files into $INSTALL_DIR -->
	<action type="move_file">
		 <source>run_discoSnp++.sh</source>
		 <destination>$INSTALL_DIR</destination>
	</action>

	<action type="move_file">
		<source>run_VCF_creator.sh</source>
		<destination>$INSTALL_DIR</destination>
	</action>

	<action type="chmod">
	 	<file mode="755">$INSTALL_DIR/run_VCF_creator.sh</file>
	</action>


		<!-- create env.sh -->
                <action type="set_environment">
                     <environment_variable name="PATH" action="prepend_to">$INSTALL_DIR</environment_variable>
                </action>                
            </actions>
        </install>
        <readme>
            This package installs discoSNP++ from the sources availbale in the Colib'reads web site.
        </readme>
    </package>
</tool_dependency>
