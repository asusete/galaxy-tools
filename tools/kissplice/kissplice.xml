<tool id="KisSplice" name="KisSplice" version="2.1">
  <description>A local transcriptome assembler for SNPs, indels and AS events
  </description>
  <requirements>
    <requirement type="package" version="2.2.1">kissplice</requirement>
  </requirements>
  <command interpreter="python">kisspliceGWrapper.py $output1 $type0 $type1 $type2 $type3 $type4 $kmer $smallc $bigc $output_context $counts 
  #for $r in $reads
  ${r.input}
  ${r.input.extension}
  #end for 
  </command>
  <inputs>
    <repeat name="reads" title="Input read file" min="1">
    <param format="fasta,fastq" name="input" type="data" label="(fasta/q format)">
    </param>
    </repeat>
    <param name="kmer" type="text" value="41">
      <label>K-mer length</label>
    </param>
    <param name="smallc" type="text" value="2">
      <label>K-mers present strictly less than this number of times in the dataset will be discarded (integer value required)</label>
    </param>
    <param name="bigc" type="text" value="0.02">
      <label>Edges with relative coverage below this number are removed (value in [0,1) required) </label>
    </param>
    <param name="output_context" type="select">
      <label>
	Output the maximum non-ambiguous context of each event
      </label>
      <option value="no">No</option>
      <option value="yes">Yes</option>
    </param>
    <param name="counts" type="select">
      <label>Selecting how the counts will be reported</label>
      <option value="0">Total counts</option>
      <option value="1">Counts on junctions</option>
      <option value="2">All counts</option>
    </param>
  </inputs>
  <outputs>
    <data name="output1" format="txt" label="KisSplice logfile" />
    <data name="type0" format="fasta" label="SNPs or sequencing errors" />
    <data name="type1" format="fasta" label="Alternative splicing events" />
    <data name="type2" format="fasta" label="Inexact tandem repeats" />
    <data name="type3" format="fasta" label="Short indels" />
    <data name="type4" format="fasta" label="Other events" />
  </outputs>
  
  <help>
**Website**

References, documentation and FAQ here_.
    
.. _here: http://kissplice.prabi.fr/
    
------
    
**Description**

KisSplice is a piece of software that enables the **analysis of RNA-seq data with or without a reference genome**. It is an exact local transcriptome assembler that allows one to identify **SNPs, indels and alternative splicing events**. It can deal with an arbitrary number of biological conditions, and will quantify each variant in each condition. It has been tested on Illumina datasets of up to 1G reads. Its memory consumption is around 5Gb for 100M reads.

KisSplice is not a full-length transcriptome assembler. This means that it will output the variable regions of the transcripts, not reconstruct them entirely. However, KisSplice results can be further aligned to a reference transcriptome (if available), or to the output of a full-length transcriptome assembler like Trinity or Oases.
  </help>
</tool>


